# a(n) = 16*a(n-3) - 112*a(n-6) + 448*a(n-9) - 1120*a(n-12) + 96*a(n-13) + 1792*a(n-15) - 768*a(n-16) - 1792*a(n-18) + 2304*a(n-19) + 1024*a(n-21) - 3072*a(n-22) - 256*a(n-24) + 1536*a(n-25) - 2304*a(n-26).
def a(n)
  ary = [1, 0, 0, 4, 0, 0, 12, 0, 0, 32, 0, 0, 80, 240, 0, 192, 2880, 0, 448, 20160, 0, 1024, 107520, 0, 2304, 483840]
  (26..n).each{|i|
    ary << 16*ary[-3] - 112*ary[-6] + 448*ary[-9] - 1120*ary[-12] + 96*ary[-13] + 1792*ary[-15] - 768*ary[-16] - 1792*ary[-18] + 2304*ary[-19] + 1024*ary[-21] - 3072*ary[-22] - 256*ary[-24] + 1536*ary[-25] - 2304*ary[-26]
  }
  ary
end

n = 1000
ary = a(n)
(0..n).each{|i| 
  j = ary[i]
  break if j.to_s.size > 1000
  print i
  print ' '
  puts j
} 