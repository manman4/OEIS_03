# a(n) = 8*a(n-3) + 24*a(n-4) - 24*a(n-6) - 48*a(n-7) - 216*a(n-8) + 32*a(n-9) - 96*a(n-10) - 288*a(n-11) + 848*a(n-12) + 192*a(n-13) - 864*a(n-14) + 1728*a(n-15) - 1296*a(n-16).
def a(n)
  ary = [1, 0, 0, 4, 12, 0, 12, 216, 108, 32, 1440, 4320, 944, 6720, 50400, 60672]
  (16..n).each{|i|
    ary << 8*ary[-3] + 24*ary[-4] - 24*ary[-6] - 48*ary[-7] - 216*ary[-8] + 32*ary[-9] - 96*ary[-10] - 288*ary[-11] + 848*ary[-12] + 192*ary[-13] - 864*ary[-14] + 1728*ary[-15] - 1296*ary[-16]
  }
  ary
end

n = 1000
ary = a(n)
(0..n).each{|i| 
  j = ary[i]
  break if j.to_s.size > 1000
  print i
  print ' '
  puts j
} 